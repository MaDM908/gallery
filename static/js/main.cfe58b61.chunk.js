(this.webpackJsonpgallery=this.webpackJsonpgallery||[]).push([[0],{103:function(e,t,n){},107:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},172:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(44),l=n.n(c),i=(n(103),n(17)),s=(n(107),n(8)),o=n(97),u=n(13),j="ADD-IMAGE",d="DELETE-IMAGE",p="SAVE-FILE",b="SET-FETCHING",g={galleryImages:[{id:1,url:"https://img.gazeta.ru/files3/919/10756919/upload-shutterstock_113386852-pic4_zoom-1500x1500-69804.jpg"},{id:2,url:"https://miro.medium.com/max/3840/1*cL5YzEvytic6BqKT4mD0tA.jpeg"},{id:3,url:"https://lookw.ru/10/1048/1567130325-41.jpg"}],file:null,isFetching:!1},f=function(e){return{type:b,bool:e}},m=function(e){return function(t){t(f(!0)),setTimeout((function(){t(function(e){return{type:j,url:e}}(e)),t(f(!1))}),5e3)}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(u.a)(Object(u.a)({},e),{},{galleryImages:[].concat(Object(o.a)(e.galleryImages),[{id:e.galleryImages.length+1,url:t.url}])});case d:return Object(u.a)(Object(u.a)({},e),{},{galleryImages:e.galleryImages.filter((function(e){return e.id!==t.id}))});case p:return Object(u.a)(Object(u.a)({},e),{},{file:t.file});case b:return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.bool});default:return e}},h=n(90),x=n(220),v=Object(s.c)({gallery:O,form:x.a}),y=Object(s.d)(v,Object(s.a)(h.a)),I=n(92),_=n(93),F=n(98),N=n(96),k=(n(168),n(169),n(2)),A=function(){return Object(k.jsx)("div",{className:"App__loader loader",children:Object(k.jsx)("img",{src:"https://cdn.dribbble.com/users/597558/screenshots/1998465/comp-2.gif",alt:"loading..."})})},E=function(e){Object(F.a)(n,e);var t=Object(N.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"render",value:function(){var e=this;return this.props.isFetching?Object(k.jsx)(A,{}):Object(k.jsxs)("div",{className:"App__gallery gallery",children:[this.props.galleryImages.map((function(t){return Object(k.jsxs)("p",{children:[Object(k.jsx)("img",{className:"gallery__card card",src:t.url,alt:"img"}),Object(k.jsx)("button",{onClick:function(){return e.props.deleteImage(t.id)},children:"Delete"})]},t.id)})),Object(k.jsx)("input",{value:"Drag img here...",type:"url",onDrop:function(t){t.stopPropagation(),t.preventDefault();var n=t.dataTransfer.getData("URL");e.props.setImage(n)}})]})}}]),n}(a.a.PureComponent),w=Object(i.b)((function(e){return{galleryImages:e.gallery.galleryImages,isFetching:e.gallery.isFetching}}),{setImage:m,deleteImage:function(e){return{type:d,id:e}}})(E),D=n(218),L=n(219),T=function(e){var t=e.meta.error&&e.meta.touched;return console.warn(t),Object(k.jsx)("div",{children:Object(k.jsx)("input",Object(u.a)(Object(u.a)({},e.input),e))})},S=(n(172),Object(D.a)({form:"uploadPhoto"})((function(e){var t,n,r=new FileReader;return Object(k.jsxs)("div",{className:"App__upload upload",children:[Object(k.jsx)("span",{children:"Upload image"}),Object(k.jsxs)("form",{className:"upload__form form",onSubmit:e.handleSubmit,children:[(t=T,n={name:"photoUrl",type:"url",placeholder:"enter url..."},Object(k.jsx)("div",{children:Object(k.jsx)(L.a,Object(u.a)({component:t},n))})),Object(k.jsx)("button",{children:"+"})]}),Object(k.jsx)("div",{className:"upload__json-wrapper json-wrapper",children:Object(k.jsxs)("label",{children:[Object(k.jsx)("span",{children:"Or add json file..."}),Object(k.jsx)("input",{type:"file",onChange:function(t){var n=t.target.files[0];e.saveFile(n),r.readAsText(n),r.onload=function(){var t=JSON.parse(r.result);for(var n in t.galleryImages)e.setImage(t.galleryImages[n].url)}}})]})}),e.file&&Object(k.jsxs)("div",{children:["\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e: ",e.file.name]})]})}))),C=Object(i.b)((function(e){return{file:e.gallery.file}}),{setImage:m,saveFile:function(e){return{type:p,file:e}}})((function(e){return Object(k.jsx)("div",{children:Object(k.jsx)(S,{onSubmit:function(t){e.setImage(t.photoUrl)},addImage:e.addImage,saveFile:e.saveFile,file:e.file})})})),P=n(95),U=n(6),G=(n(211),function(e){return Object(k.jsx)("div",{className:"App__footer footer",children:Object(k.jsx)("span",{children:"Life"})})}),R=n(64),z=(n(212),function(e){return Object(k.jsxs)("nav",{className:"App__nav nav",children:[Object(k.jsx)("img",{src:"https://i.pinimg.com/originals/f6/d1/d2/f6d1d2358b2f812b837915ed0e1f2e72.jpg",alt:""}),Object(k.jsx)(R.NavLink,{to:"/gallery",className:"nav__gallery-link link",children:"Gallery"}),Object(k.jsx)(R.NavLink,{to:"/upload",className:"nav__upload-link link",children:"Upload"})]})});window.__store__=y;var B=function(){return Object(k.jsx)(P.a,{children:Object(k.jsx)(i.a,{store:y,children:Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(z,{}),Object(k.jsx)(U.Route,{exact:!0,path:"/gallery",render:function(){return Object(k.jsx)(w,{})}}),Object(k.jsx)(U.Route,{exact:!0,path:"/upload",render:function(){return Object(k.jsx)(C,{})}}),Object(k.jsx)(G,{})]})})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,221)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,l=t.getTTFB;n(e),r(e),a(e),c(e),l(e)}))};l.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(B,{})}),document.getElementById("root")),J()}},[[217,1,2]]]);
//# sourceMappingURL=main.cfe58b61.chunk.js.map